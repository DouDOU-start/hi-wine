### **Hi-Wine 小程序及后台UI/UX设计方案**

**版本：** 1.0
**日期：** 2025年6月6日
**基于项目文档：** `hi-wine项目文档.md`

本文档旨在为Hi-Wine酒水销售系统提供一套完整的前后端用户界面(UI)与用户体验(UX)设计方案。设计严格遵循项目文档中定义的技术架构、核心功能与数据模型。

-----

### **第一部分：微信小程序客户端 (C-Side) UI/UX 设计**

#### **一、 设计理念与风格**

  * **核心定位：** 现代、沉浸、高效。
  * **视觉风格：** 以深色模式为主，营造高级的酒吧氛围，便于用户在昏暗光线下舒适使用。
  * **色彩方案：** 采用深邃的炭灰色或藏蓝色作为主背景，搭配琥珀金或霓虹色作为强调色，用于按钮、标签和重要提示，突出视觉焦点。
  * **交互原则：** 流程简化，减少点击，关键信息一目了然，确保用户可以快速完成点单和支付。

#### **二、 核心页面设计**

**1. 首页 / 菜单页 (Home / Menu)**

用户通过扫描桌号二维码进入的核心界面。

  * **顶部区域：** 固定显示当前桌号（例如：“**Table 12**”），信息来源为 `TABLE_QRCODES` 表。
  * **核心推广区 (Banner)：** 页面视觉中心，用于推广“**畅饮套餐**”功能。
      * **文案示例：** “Hi-Wine 畅饮之夜 | ￥198/位 起，无限续杯”
      * **交互：** 点击可跳转至[畅饮套餐详情页](https://www.google.com/search?q=%23_2-%E7%95%85%E9%A5%AE%E5%A5%97%E9%A4%90%E8%AF%A6%E6%83%85%E9%A1%B5-package)。
  * **分类导航 (Tabs)：** 横向滚动标签栏，用于展示商品分类。分类数据来源于 `CATEGORIES` 表。
  * **商品列表 (Cards)：**
      * 以卡片网格布局展示 `PRODUCTS` 表中的商品信息。
      * 每张卡片包含：商品图片 (`image_url`)、名称 (`name`)、简短描述 (`description`) 和价格 (`price`)。
      * **交互亮点：** 若用户已购买并处于畅饮套餐有效期内，属于该套餐的商品卡片上会显示特殊“**畅饮内**”或“**免费**”标识，增强用户专属感。

**2. 畅饮套餐详情页 (Package Details)**

展示畅饮套餐的具体信息。

  * **主视觉区：** 顶部为套餐的宣传大图，下方清晰展示套餐名称 (`name`)、价格 (`price`) 和有效时长 (`duration_minutes`)。
  * **套餐内容列表：**
      * 标题：“套餐内含酒水”。
      * 列表形式展示所有与该套餐关联的商品 (基于 `PACKAGE_PRODUCTS` 关联表)。
      * 每行显示商品图片、名称和被划掉的原价，以凸显套餐的性价比。
  * **底部操作栏：** 一个固定的、醒目的“**立即购买**”按钮，引导用户下单。

**3. 购物车页 (Shopping Cart)**

订单确认与结算页面。

  * **订单信息：** 顶部明确显示“**我的订单 (12号桌)**”。
  * **商品项分组：**
      * **畅饮套餐内商品：** 此组内的商品价格显示为“**￥0**”或“已包含”。该逻辑基于 `order_items` 表的 `is_package_item` 字段。
      * **其他单点商品：** 正常显示商品单价、数量和总价。
  * **金额结算区：** 清晰列出商品总额、优惠金额以及最终需要支付的合计金额 (`total_amount`)。
  * **支付按钮：** 底部为一个醒目的“**微信支付**”按钮，直接调用微信支付接口完成支付。

**4. “我的”页面 (User Profile)**

用户的个人中心。

  * **用户信息区：** 页面顶部展示用户的微信头像 (`avatar_url`) 和昵称 (`nickname`)，信息来源于 `USERS` 表。
  * **核心状态卡片 (畅饮状态)：**
      * **条件显示：** 仅当用户拥有一个状态为 `active` 的 `USER_PACKAGES` 记录时显示此卡片。
      * **内容：**
          * 醒目的“**畅饮中**”状态标题。
          * 套餐名称和 **实时倒计时**（根据 `user_packages.end_time` 计算剩余时间）。
          * “**查看酒单**”快捷按钮，方便用户快速续杯。
  * **功能列表入口：**
      * **我的订单：** 跳转至历史订单列表页，数据来源于 `/api/v1/user/orders` 接口。
      * **我的套餐：** 跳转至已购买的套餐记录页，数据来源于 `/api/v1/user/packages` 接口。
      * **帮助与客服。**

-----

### **第二部分：后台管理系统 (B-Side) UI/UX 设计**

#### **一、 设计理念与风格**

  * **核心定位：** 专业、清晰、数据驱动。
  * **视觉风格：** 采用经典的左侧菜单栏+右侧内容区的后台布局。以明亮的浅色模式为主，确保数据图表和表格的可读性。
  * **组件库：** 建议基于成熟的前端UI组件库（如 Ant Design, Element Plus）进行开发，以保证界面的规范性、稳定性和开发效率。

#### **二、 核心模块设计**

**1. 仪表盘 / 主页 (Dashboard)**

管理员登录后看到的全局数据概览页面。

  * **核心指标 (KPIs)：** 顶部以数据卡片形式展示关键业务指标，如：今日销售额、今日订单数、待处理订单、低库存商品数。
  * **数据图表 (Charts)：**
      * **销售趋势：** 近7日或近30日的销售额变化折线图。
      * **销售排行：** 商品或套餐的销售排行榜。
  * **快捷入口/待办事项：**
      * **最新订单列表：** 显示5-10条最新待处理的订单，可点击直接跳转处理。

**2. 订单管理页 (Order Management)**

系统的核心操作页面，用于处理日常订单。

  * **搜索与筛选区：** 提供按订单号 (`order_sn`)、用户、支付状态 (`payment_status`)、订单状态 (`order_status`) 和日期范围进行组合查询的功能。
  * **订单数据表格 (Table)：**
      * **列定义：** 表格列应包含订单号、桌号、下单用户、总金额、支付状态、订单状态、下单时间等。
      * **操作列：** 为每行订单提供“**详情**”和状态变更操作（如“**接单处理**”、“**完成订单**”）的按钮。

**3. 畅饮套餐管理页 (Package Management)**

特色功能的后台配置界面。

  * **套餐列表：**
      * 以表格形式展示所有已创建的畅饮套餐，包含名称、价格、时长、状态（激活/禁用）等信息。
      * 提供对套餐的“**编辑**”、“**删除**”和“**切换状态**”操作。
      * 页面右上角提供“**+ 新建套餐**”的入口按钮。
  * **新建/编辑套餐页 (使用弹窗或独立页面)：**
      * **基础信息表单：** 用于填写套餐的名称、描述、价格、有效时长（分钟）等字段。
      * **关联商品选择器：**
          * **推荐组件：** 使用“**穿梭框 (Transfer)**”组件进行交互。
          * **左侧框：** 显示所有可供选择的商品列表。
          * **右侧框：** 显示已选入当前套餐的商品。
          * 此交互直观地管理 `PACKAGE_PRODUCTS` 关联表的数据。

**4. 商品管理页 (Product Management)**

管理所有酒水、小食等商品。

  * **页面布局：**
      * **左侧：** 商品分类 (`CATEGORIES`) 管理区，支持树状结构的增、删、改、查和拖拽排序。
      * **右侧：** 根据左侧选择的分类，展示该分类下的商品列表 (`PRODUCTS`)。
  * **新建/编辑商品 (使用弹窗)：**
      * 表单包含商品名称、分类、描述、价格、库存等所有字段。
      * **图片上传器：** 提供一个独立的图片上传模块，用户选择图片后，调用文件上传接口，将图片存储至 **MinIO**，并回显预览图。